// Adds flex and flex-inline classes
@mixin flex-container($suffix)
  %flex
    &-block-#{$suffix}
      display: flex
    &-inline-#{$suffix}
      display: flex-inline

// Adds flex direction classes
@mixin flex-direction($suffix)
  @each $direction in row, row-reverse, column, column-reverse
    %flex-#{$direction}-#{$suffix}
      flex-direction: $direction

// Adds flex wrap classes
@mixin flex-wrap($suffix)
  @each $type in wrap, nowrap, wrap-reverse
    %flex-#{$type}-#{$suffix}
      flex-wrap: $type

// Adds justify-content classes
@mixin flex-justify-content($suffix)
  %flex-justify
    &-start-#{$suffix}
      justify-content: flex-start
    &-end-#{$suffix}
      justify-content: flex-end
    &-center-#{$suffix}
      justify-content: center
    &-between-#{$suffix}
      justify-content: space-between
    &-around-#{$suffix}
      justify-content: space-around

// Adds align-items classes
@mixin flex-align-items($suffix)
  %flex-item
    &-start-#{$suffix}
      align-items: flex-start
    &-end-#{$suffix}
      align-items: flex-end
    &-center-#{$suffix}
      align-items: center
    &-stretch-#{$suffix}
      align-items: stretch
    &-baseline-#{$suffix}
      align-items: baseline

// Adds align-content classes
@mixin flex-align-content($suffix)
  %flex-content
    &-start-#{$suffix}
      align-content: flex-start
    &-end-#{$suffix}
      align-content: flex-end
    &-center-#{$suffix}
      align-content: center
    &-around-#{$suffix}
      align-content: space-around
    &-between-#{$suffix}
      align-content: space-between
    &-stretch-#{$suffix}
      align-content: stretch

// Adds flex-order classes
@mixin flex-order($suffix)
  @each $num in 1,2,3,4,5,6
    %flex-order-#{$num}-#{$suffix}
      order: $num

// Adds flex-grow classes
@mixin flex-grow($suffix)
  @each $num in 0,1,2,3,4,5,6
    %flex-grow-#{$num}-#{$suffix}
      flex-grow: $num

// Adds flex-shrink classes
@mixin flex-shrink($suffix)
  @each $num in 1,2,3,4,5,6
    %flex-shrink-#{$num}-#{$suffix}
      flex-shrink: $num

// Adds flex-basis classes
@mixin flex-basis($suffix)
  $widths: 5, 10, 15, 20, 25, 30, 33, 35, 40, 45, 50, 55, 60, 65, 66, 70, 75, 80, 85, 90, 95, 100, auto
  @each $width in $widths
    @if $width == auto
      %flex-basis-auto-#{$suffix}
        flex-basis: $width
    @else
      %flex-basis-#{$width}-#{$suffix}
        flex-basis: percentage($width/100)
  @each $unit, $value in $spacing
    %flex-basis-s#{$unit}-#{$suffix}
      flex-basis: spacing($unit)

// Adds align-self classes
@mixin flex-align-self($suffix)
  %flex-self
    &-auto-#{$suffix}
      align-self: auto
    &-start-#{$suffix}
      align-self: flex-start
    &-end-#{$suffix}
      align-self: flex-end
    &-center-#{$suffix}
      align-self: center
    &-stretch-#{$suffix}
      align-self: stretch
    &-baseline-#{$suffix}
      align-self: baseline



// Adds the media queries to all flex box mixins
@mixin flex($suffix, $media: null)

  // We want to use @media screen whenever no $media
  // is passed into the mixin
  @if length($media) == 2
    +media($media)
      +flex-container($suffix)
      +flex-direction($suffix)
      +flex-wrap($suffix)
      +flex-justify-content($suffix)
      +flex-align-items($suffix)
      +flex-align-content($suffix)
      +flex-order($suffix)
      +flex-grow($suffix)
      +flex-shrink($suffix)
      +flex-basis($suffix)
      +flex-align-self($suffix)
  @else
    @media screen
      +flex-container($suffix)
      +flex-direction($suffix)
      +flex-wrap($suffix)
      +flex-justify-content($suffix)
      +flex-align-items($suffix)
      +flex-align-content($suffix)
      +flex-order($suffix)
      +flex-grow($suffix)
      +flex-shrink($suffix)
      +flex-basis($suffix)
      +flex-align-self($suffix)


// Building classes

// Default
+flex(xs)

// Other breakpoints
@each $value, $breakpoint in $breakpoints
  +flex($value, min-width $breakpoint)
